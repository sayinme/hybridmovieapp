<!DOCTYPE HTML>
<html>
  <head>
    <title>MovieSearchApp</title>
	<!-- 화면 확대비율을 기기 사이즈 가로에 맞게 조정 -->	
	<meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=no" />
	
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.0b2/jquery.mobile-1.0b2.min.css" />
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.6.2.min.js"></script>
	<script type="text/javascript" src="http://code.jquery.com/mobile/1.0b2/jquery.mobile-1.0b2.min.js"></script>
	<script type="text/javascript" charset="utf-8" src="phonegap-1.0.0.js"></script>
	  
	  <script>
	  	$(function(){
		  	$("#callXML").click(function(){
			  	var movieName = $.trim($("#movieName").val());
			  	
			  	if(movieName.length > 0)
			  	{
				  	$.ajax({
					  	type:"GET",
						url: "http://openapi.naver.com/search?key=db13514ebf38ccd279a6b93538f88bca&query=movie&target=ranktheme",
						dataType: "xml",
						success: parseXml
				  	});
			  	}
			  	else
			  		alert('please input text');
		  	});

		  	$("resultlist").ajaxError(function(event, request, settings, exception){
			  	$("resultlist").html("Error Calling: " + settings.url + "<br/>HTTP Code: " + request.status);
		  	});

		  	function onSuccess(xml)
		  	{
			  	$("#result").html("Result: " + xml);
		  	}

		  	function parseXml(xml)
		  	{		  		
			  	$(xml).find("item").each(function()
			  	{
				  	$("#resultlist").append("<li>" + $(this).find("K").text()+"</li>");
				  	$("#resultlist").listview('refresh');
			  	});
		  	}
	  	});
	  </script>
	  
	  <script type="text/javascript" charset="utf-8">
	  	function onLoad(){
		  	document.addEventListener("deviceready",onDeviceReady,true);
	  	}
	  	function onDeviceReady(){
		  	navigator.notification.alert("PhonGap is working");
	  	}
	  </script>  
	  
	  <style type="text/css">
	  	h1{
	  		text-align: center;
	  		color: green;
	  	}
	  	form{
	  		align: center;
	  	}
	  	p{
	  		font-size: 13px;
	  	}
	  	
	  </style>
  </head>
  <body> <!-- onload="onLoad();" -->
  	<div data-role="page" id="indexPage">
	  	
	  	<div data-role="header">
	  		<h1>Naver with Jquery</h1>
	  	</div>
	  	
	  	<div data-role="content">
	  		<div data-role="fieldcontain">
	  			<input type="text" id="movieName" name="movieName" value="" autocomplete="on" >
	  			<input id="callXML" type="button" value="Search"/>
	  		</div>
			
			<div id="result">
				<ul data-role="listview" id="resultlist" name="resultlist">
				</ul>
			</div>
	   	</div>
	   	
	 <!-- <div data-role="footer" class="footer-docs" data-theme="c">
	   		<p>&copy; Jquery Ajax Demo</p>
	   	</div> -->
	   	
   	</div>
   	
  </body>
</html>
